{% extends 'base.html' %}
{% load static %}


{% block title %}
    {% if user.is_authenticated %}
        {% if user.first_name %}
        Dashboard • {{ user.first_name.capitalize }}
        {% else %}
        Dashboard • {{user.username.capitalize}}
        {% endif %}
    {% endif %}
{% endblock %}

{% block links %}
<link rel="stylesheet" href="{% static 'main/css/dashboard.css' %}">
{% endblock %}

{% block non-auth-header %}
    <header class="hero">
        <div class="filter"></div>
        <img src="{% static 'main/img/hero_bg.jpg' %}" alt="colorfull background" class="bg">
        <section class="hero-caption">
            <h1>It's time to focus</h1>
            <p>
                It's time to focus and get productive, what better place for that than Dynamic?
            </p>
        </section>
        <section class="hero-media">
            <!-- Here goes an image or a gif of a task being used -->
        </section>
    </header>
{% endblock %}

{% block non-auth-main %}
    <main>
        <section class="card-container">
            <div class="card">
                <h1>Create a space</h1>
                <p>
                    A space here on Dynamic is like a virtual room disigned to bee as comfortable
                    as possible for your needs.
                </p>
            </div>
            <div class="card">
                <h1>Customize your experience</h1>
                <p>
                    You can give a bit of personality in everything you do, and we built this platform
                    with the goal of making task management as comfortable as possible, whatever settings you touch.
                </p>
            </div>
            <div class="card">
                <h1>We are open-source</h1>
                <p>
                    If you want, you can check our source code and contribute if you found a bug or want
                    to propose a feature.
                </p>
            </div>
        </section>
    </main>
    <script src="{% static 'main/js/animation.js' %}"></script>
{% endblock %}

{% block main %}
<section class="container">
    <aside class="sidebar">
        <h1 class="txt-center col-red">Dashboard</h1>

        <div class="music-player-wrapper">
            <div class="music-player-img"></div>
            <div class="music-player">
                <div class="music-player-title"></div>
                <div class="music-player-timer"><div></div></div>
                <div class="music-player-controller">
                    <span class="material-symbols-outlined">skip_previous</span>
                    <span class="material-symbols-outlined">play_arrow</span>
                    <span class="material-symbols-outlined">skip_next</span>
                </div>
            </div>
        </div>
    </aside>
    <section class="content">
        <img src="{% static 'main/img/Dynamic_logo_A.png' %}" alt="Dynamic background logo" class="bg-logo" draggable="false"/>
        {% if Lists %}
            {% for list in Lists %}
                <div class="tasklist">
                    {% if Tasks %}
                    <h1 class="tasklist-name">{{ list.name }}</h1>
                        {% for task in Tasks %}
                            {% if task.parent_list.name == list.name %}
                            <div class="task">
                                <h1 class="task-title"> {{ task.title }}</h1>
                            </div>
                            {% else %}
                                Niente
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                </div>
                
            {% endfor %}
        {% else %}
            <p>No Lists Found</p>
        {% endif %}
    </section>
</section>
    

    <!--
    Spotify player
    
    <script src="https://sdk.scdn.co/spotify-player.js"></script>
    <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/37i9dQZF1DWWQRwui0ExPn?utm_source=generator&theme=0" width="100%" height="80" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
    -->
{% endblock %}
